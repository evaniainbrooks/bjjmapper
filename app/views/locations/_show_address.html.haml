%address.display-field.text-info
  - if moved?
    %strong.text.text-danger
      This academy has moved to
      = link_to location.moved_to_location.address, location_path(location.moved_to_location, ref: 'loc_changed_address')
    %br/
    %br/
  = link_to map_path(:lat => location.lat, :lng => location.lng, :ref => 'loc_map_full'), :data => { :'no-turbolink' => true } do
    %span.address
      = location.street
      %br/
      = "#{location.city}, #{location.state}"
      %br/
      = "#{location.postal_code} #{location.country}"
      %br/
    %span.small
      = surround '(', ')' do
        %span.fa.fa-search-plus
        View on larger map
.form-group.edit-field
  = f.label :street, class: 'small text-muted upcase'
  = f.text_field :street, class: 'form-control input-sm'
  = f.label :city, class: 'small text-muted upcase'
  = f.text_field :city, class: 'form-control input-sm'
  = f.label :state, class: 'small text-muted upcase'
  = f.text_field :state, class: 'form-control input-sm'
  = f.label :country, class: 'small text-muted upcase'
  = f.text_field :country, class: 'form-control input-sm'
  = f.label :postal_code, class: 'small text-muted upcase'
  = f.text_field :postal_code, class: 'form-control input-sm'
.form-group.edit-field
  = f.label :directions, class: 'small text-muted upcase'
  = f.text_area :directions, placeholder: 'Provide any extra directions to the academy (eg. signage missing; go around the back)', class: 'form-control', rows: 3
%p.display-field.directions
  = location.directions

= content_for(:scripts) do
  :coffeescript
    $('.directions').readmore(collapsedHeight: 175)
