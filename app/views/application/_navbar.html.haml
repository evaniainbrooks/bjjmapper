%nav.navbar.navbar-default{:role => "navigation"}
  .container-fluid
    / Brand and toggle get grouped for better mobile display
    .navbar-header
      %button.navbar-toggle{"data-target" => ".main-navbar-collapse", "data-toggle" => "collapse", :type => "button"}
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{:href => root_path(ref: 'navbar_title'), :data => { :'no-turbolink' => true } } BJJMapper
    / Collect the nav links, forms, and other content for toggling
    .main-navbar-collapse.collapse.navbar-collapse
      %ul.nav.navbar-nav
        %li{:class => action?(:map) ? 'active' : nil}
          %a{:href => root_path(ref: 'navbar'), :data => { :'no-turbolink' => true } } Map
        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            Directory
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              %a{:href => locations_path} Academies
            %li
              %a{:href => users_path} People
            %li
              %a{:href => '#'} Events
        %li{:class => action?(:meta) ? 'active' : nil}
          %a{:href => meta_path(ref: 'navbar')} Meta
      %form.navbar-form.navbar-left{:role => "search"}
        .form-group.has-feedback
          %input.clear-input.form-control{:name => 'query', :size => '8', :placeholder => "Search", :type => "text"}/
          %span.clear-input-button.form-control-feedback.fa.fa-times-circle
        .form-group
          .input-group
            %input.form-control{:name => 'location', :size => '10', :placeholder => "Current View", :type => "text"}/
            %a.input-group-addon{'data-geolocate' => 'true', :href => '#geolocate'}
              %i.fa.fa-location-arrow
        %button.btn.btn-default{:type => "submit"} Search
      = render partial: 'profile_or_login'
    / /.navbar-collapse
  / /.container-fluid
= content_for(:scripts) do
  :coffeescript
    nav = new RollFindr.Views.NavbarView()
